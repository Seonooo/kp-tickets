# ============================================================================
# Docker Compose & Application 환경 변수 설정 Example
# 이 파일을 복사하여 .env 파일을 생성하고 사용하세요.
# cp .env.example .env
# ============================================================================

# ----------------------------------------------------------------------------
# Application 기본 설정
# ----------------------------------------------------------------------------
SPRING_APPLICATION_NAME=concert-ticketing
SERVER_PORT=8080
DEBUG_PORT=5005

# ----------------------------------------------------------------------------
# MySQL Database
# ----------------------------------------------------------------------------
MYSQL_ROOT_PASSWORD=rootpassword
MYSQL_DATABASE=concert_db
MYSQL_USER=concert_user
MYSQL_PASSWORD=concert_password

# Application용 DataSource URL
# Docker Compose: db:3306
# 로컬 개발: localhost:3306
SPRING_DATASOURCE_URL=jdbc:mysql://db:3306/concert_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
SPRING_DATASOURCE_USERNAME=concert_user
SPRING_DATASOURCE_PASSWORD=concert_password
SPRING_DATASOURCE_DRIVER=com.mysql.cj.jdbc.Driver

# Connection Pool 설정
DB_POOL_MAX_SIZE=10
DB_POOL_MIN_IDLE=5
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_MAX_LIFETIME=1800000

# ----------------------------------------------------------------------------
# JPA/Hibernate 설정
# ----------------------------------------------------------------------------
JPA_DDL_AUTO=update
JPA_SHOW_SQL=true
JPA_FORMAT_SQL=true
JPA_DIALECT=org.hibernate.dialect.MySQLDialect
JPA_USE_SQL_COMMENTS=true

# ----------------------------------------------------------------------------
# Redis
# ----------------------------------------------------------------------------
REDIS_PASSWORD=redispassword

# Application용 Redis 설정
# Docker Compose: cache
# 로컬 개발: localhost
SPRING_REDIS_HOST=cache
SPRING_REDIS_PORT=6379
SPRING_REDIS_PASSWORD=redispassword

# Redis Connection Pool
REDIS_POOL_MAX_ACTIVE=8
REDIS_POOL_MAX_IDLE=8
REDIS_POOL_MIN_IDLE=2

# ----------------------------------------------------------------------------
# Kafka
# ----------------------------------------------------------------------------
# Application용 Kafka 설정
# Docker Compose: broker:9092
# 로컬 개발: localhost:29092
SPRING_KAFKA_BOOTSTRAP_SERVERS=broker:9092
KAFKA_CONSUMER_GROUP_ID=concert-consumer-group
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_PRODUCER_ACKS=all
KAFKA_PRODUCER_RETRIES=3

# ----------------------------------------------------------------------------
# Logging 설정
# 개발: DEBUG, 운영: INFO/WARN
# ----------------------------------------------------------------------------
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_SQL=DEBUG
LOG_LEVEL_SQL_BIND=TRACE